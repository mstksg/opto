<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Numeric.Opto.Run</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Numeric.Opto.Run.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">opto-0.1.0.0: General-purpose performant numeric optimization library</p></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(c) Justin Le 2019</td></tr><tr><th>License</th><td>BSD3</td></tr><tr><th>Maintainer</th><td>justin@jle.im</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Portability</th><td>non-portable</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Numeric.Opto.Run</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Options</a></li><li><a href="#g:2">Single-threaded</a><ul><li><a href="#g:3">Sampling methods</a></li></ul></li><li><a href="#g:4">Parallel</a><ul><li><a href="#g:5">Sampling Methods</a></li></ul></li><li><a href="#g:6">Util</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Functions to run optimiziers.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:RunOpts">RunOpts</a> m a = <a href="#v:RO">RO</a> {<ul class="subs"><li><a href="#v:roStopCond">roStopCond</a> :: <a href="Numeric-Opto-Core.html#t:Diff" title="Numeric.Opto.Core">Diff</a> a -&gt; a -&gt; m <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li><a href="#v:roReport">roReport</a> :: a -&gt; m ()</li><li><a href="#v:roLimit">roLimit</a> :: <a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li><a href="#v:roBatch">roBatch</a> :: <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li><a href="#v:roFreq">roFreq</a> :: <a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li></ul>}</li><li class="src short"><a href="#v:hoistRunOpts">hoistRunOpts</a> :: (<span class="keyword">forall</span> x. m x -&gt; n x) -&gt; <a href="Numeric-Opto-Run.html#t:RunOpts" title="Numeric.Opto.Run">RunOpts</a> m a -&gt; <a href="Numeric-Opto-Run.html#t:RunOpts" title="Numeric.Opto.Run">RunOpts</a> n a</li><li class="src short"><span class="keyword">data</span> <a href="#t:ParallelOpts">ParallelOpts</a> m a = <a href="#v:PO">PO</a> {<ul class="subs"><li><a href="#v:poThreads">poThreads</a> :: <a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li><a href="#v:poSplit">poSplit</a> :: <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li><a href="#v:poCombine">poCombine</a> :: <a href="../base-4.12.0.0/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a> a -&gt; m a</li><li><a href="#v:poPull">poPull</a> :: <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li></ul>}</li><li class="src short"><a href="#v:hoistParallelOpts">hoistParallelOpts</a> :: (<span class="keyword">forall</span> x. m x -&gt; n x) -&gt; <a href="Numeric-Opto-Run.html#t:ParallelOpts" title="Numeric.Opto.Run">ParallelOpts</a> m a -&gt; <a href="Numeric-Opto-Run.html#t:ParallelOpts" title="Numeric.Opto.Run">ParallelOpts</a> n a</li><li class="src short"><a href="#v:opto">opto</a> :: <a href="../base-4.12.0.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Numeric-Opto-Run.html#t:RunOpts" title="Numeric.Opto.Run">RunOpts</a> m a -&gt; m (<a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> r) -&gt; a -&gt; <a href="Numeric-Opto-Core.html#t:Opto" title="Numeric.Opto.Core">Opto</a> m r a -&gt; m a</li><li class="src short"><a href="#v:opto-39-">opto'</a> :: <a href="../base-4.12.0.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Numeric-Opto-Run.html#t:RunOpts" title="Numeric.Opto.Run">RunOpts</a> m a -&gt; m (<a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> r) -&gt; a -&gt; <a href="Numeric-Opto-Core.html#t:Opto" title="Numeric.Opto.Core">Opto</a> m r a -&gt; m (a, <a href="Numeric-Opto-Core.html#t:Opto" title="Numeric.Opto.Core">Opto</a> m r a)</li><li class="src short"><a href="#v:optoNonSampling-39-">optoNonSampling'</a> :: <a href="../base-4.12.0.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Numeric-Opto-Run.html#t:RunOpts" title="Numeric.Opto.Run">RunOpts</a> m a -&gt; a -&gt; <a href="Numeric-Opto-Core.html#t:Opto" title="Numeric.Opto.Core">Opto</a> m () a -&gt; m (a, <a href="Numeric-Opto-Core.html#t:Opto" title="Numeric.Opto.Core">Opto</a> m () a)</li><li class="src short"><a href="#v:optoNonSampling">optoNonSampling</a> :: <a href="../base-4.12.0.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Numeric-Opto-Run.html#t:RunOpts" title="Numeric.Opto.Run">RunOpts</a> m a -&gt; a -&gt; <a href="Numeric-Opto-Core.html#t:Opto" title="Numeric.Opto.Core">Opto</a> m () a -&gt; m a</li><li class="src short"><a href="#v:optoConduit">optoConduit</a> :: <a href="../base-4.12.0.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Numeric-Opto-Run.html#t:RunOpts" title="Numeric.Opto.Run">RunOpts</a> m a -&gt; a -&gt; <a href="Numeric-Opto-Core.html#t:Opto" title="Numeric.Opto.Core">Opto</a> (<a href="../conduit-1.3.1.1/Data-Conduit.html#t:ConduitT" title="Data.Conduit">ConduitT</a> r a m) r a -&gt; <a href="../conduit-1.3.1.1/Data-Conduit.html#t:ConduitT" title="Data.Conduit">ConduitT</a> r a m ()</li><li class="src short"><a href="#v:optoConduit-39-">optoConduit'</a> :: <a href="../base-4.12.0.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Numeric-Opto-Run.html#t:RunOpts" title="Numeric.Opto.Run">RunOpts</a> m a -&gt; a -&gt; <a href="Numeric-Opto-Core.html#t:Opto" title="Numeric.Opto.Core">Opto</a> (<a href="../conduit-1.3.1.1/Data-Conduit.html#t:ConduitT" title="Data.Conduit">ConduitT</a> r a m) r a -&gt; <a href="../conduit-1.3.1.1/Data-Conduit.html#t:ConduitT" title="Data.Conduit">ConduitT</a> r a m (<a href="Numeric-Opto-Core.html#t:Opto" title="Numeric.Opto.Core">Opto</a> (<a href="../conduit-1.3.1.1/Data-Conduit.html#t:ConduitT" title="Data.Conduit">ConduitT</a> r a m) r a)</li><li class="src short"><a href="#v:optoFold">optoFold</a> :: <a href="../base-4.12.0.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Numeric-Opto-Run.html#t:RunOpts" title="Numeric.Opto.Run">RunOpts</a> m a -&gt; a -&gt; <a href="Numeric-Opto-Core.html#t:Opto" title="Numeric.Opto.Core">Opto</a> (<a href="../mtl-2.2.2/Control-Monad-State-Lazy.html#t:StateT" title="Control.Monad.State.Lazy">StateT</a> [r] m) r a -&gt; [r] -&gt; m (a, [r])</li><li class="src short"><a href="#v:optoFold-39-">optoFold'</a> :: <a href="../base-4.12.0.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Numeric-Opto-Run.html#t:RunOpts" title="Numeric.Opto.Run">RunOpts</a> m a -&gt; a -&gt; <a href="Numeric-Opto-Core.html#t:Opto" title="Numeric.Opto.Core">Opto</a> (<a href="../mtl-2.2.2/Control-Monad-State-Lazy.html#t:StateT" title="Control.Monad.State.Lazy">StateT</a> [r] m) r a -&gt; [r] -&gt; m (a, [r], <a href="Numeric-Opto-Core.html#t:Opto" title="Numeric.Opto.Core">Opto</a> (<a href="../mtl-2.2.2/Control-Monad-State-Lazy.html#t:StateT" title="Control.Monad.State.Lazy">StateT</a> [r] m) r a)</li><li class="src short"><a href="#v:optoPar">optoPar</a> :: <span class="keyword">forall</span> m r a. <a href="../conduit-1.3.1.1/Conduit.html#t:MonadUnliftIO" title="Conduit">MonadUnliftIO</a> m =&gt; <a href="Numeric-Opto-Run.html#t:RunOpts" title="Numeric.Opto.Run">RunOpts</a> m a -&gt; <a href="Numeric-Opto-Run.html#t:ParallelOpts" title="Numeric.Opto.Run">ParallelOpts</a> m a -&gt; m (<a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> r) -&gt; a -&gt; <a href="Numeric-Opto-Core.html#t:Opto" title="Numeric.Opto.Core">Opto</a> m r a -&gt; m a</li><li class="src short"><a href="#v:optoParChunk">optoParChunk</a> :: <span class="keyword">forall</span> m r a. <a href="../conduit-1.3.1.1/Conduit.html#t:MonadUnliftIO" title="Conduit">MonadUnliftIO</a> m =&gt; <a href="Numeric-Opto-Run.html#t:RunOpts" title="Numeric.Opto.Run">RunOpts</a> m a -&gt; <a href="Numeric-Opto-Run.html#t:ParallelOpts" title="Numeric.Opto.Run">ParallelOpts</a> m a -&gt; (<a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; m [r]) -&gt; a -&gt; <a href="Numeric-Opto-Core.html#t:Opto" title="Numeric.Opto.Core">Opto</a> (<a href="../mtl-2.2.2/Control-Monad-State-Lazy.html#t:StateT" title="Control.Monad.State.Lazy">StateT</a> [r] m) r a -&gt; m a</li><li class="src short"><a href="#v:optoParNonSampling">optoParNonSampling</a> :: <a href="../conduit-1.3.1.1/Conduit.html#t:MonadUnliftIO" title="Conduit">MonadUnliftIO</a> m =&gt; <a href="Numeric-Opto-Run.html#t:RunOpts" title="Numeric.Opto.Run">RunOpts</a> m a -&gt; <a href="Numeric-Opto-Run.html#t:ParallelOpts" title="Numeric.Opto.Run">ParallelOpts</a> m a -&gt; a -&gt; <a href="Numeric-Opto-Core.html#t:Opto" title="Numeric.Opto.Core">Opto</a> m () a -&gt; m a</li><li class="src short"><a href="#v:optoConduitPar">optoConduitPar</a> :: <span class="keyword">forall</span> m r a. <a href="../conduit-1.3.1.1/Conduit.html#t:MonadUnliftIO" title="Conduit">MonadUnliftIO</a> m =&gt; <a href="Numeric-Opto-Run.html#t:RunOpts" title="Numeric.Opto.Run">RunOpts</a> m a -&gt; <a href="Numeric-Opto-Run.html#t:ParallelOpts" title="Numeric.Opto.Run">ParallelOpts</a> m a -&gt; a -&gt; <a href="Numeric-Opto-Core.html#t:Opto" title="Numeric.Opto.Core">Opto</a> m r a -&gt; <a href="../conduit-1.3.1.1/Data-Conduit.html#t:ConduitT" title="Data.Conduit">ConduitT</a> () r m () -&gt; <a href="../conduit-1.3.1.1/Data-Conduit.html#t:ConduitT" title="Data.Conduit">ConduitT</a> () a m ()</li><li class="src short"><a href="#v:optoConduitParChunk">optoConduitParChunk</a> :: <span class="keyword">forall</span> m r a. <a href="../conduit-1.3.1.1/Conduit.html#t:MonadUnliftIO" title="Conduit">MonadUnliftIO</a> m =&gt; <a href="Numeric-Opto-Run.html#t:RunOpts" title="Numeric.Opto.Run">RunOpts</a> m a -&gt; <a href="Numeric-Opto-Run.html#t:ParallelOpts" title="Numeric.Opto.Run">ParallelOpts</a> m a -&gt; a -&gt; <a href="Numeric-Opto-Core.html#t:Opto" title="Numeric.Opto.Core">Opto</a> (<a href="../mtl-2.2.2/Control-Monad-State-Lazy.html#t:StateT" title="Control.Monad.State.Lazy">StateT</a> [r] m) r a -&gt; <a href="../conduit-1.3.1.1/Data-Conduit.html#t:ConduitT" title="Data.Conduit">ConduitT</a> () r m () -&gt; <a href="../conduit-1.3.1.1/Data-Conduit.html#t:ConduitT" title="Data.Conduit">ConduitT</a> () a m ()</li><li class="src short"><a href="#v:mean">mean</a> :: (<a href="../semigroupoids-5.3.3/Data-Semigroup-Foldable-Class.html#t:Foldable1" title="Data.Semigroup.Foldable.Class">Foldable1</a> t, <a href="../base-4.12.0.0/Prelude.html#t:Fractional" title="Prelude">Fractional</a> a) =&gt; t a -&gt; a</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Options</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:RunOpts" class="def">RunOpts</a> m a <a href="src/Numeric.Opto.Run.html#RunOpts" class="link">Source</a> <a href="#t:RunOpts" class="selflink">#</a></p><div class="doc"><p>Options for running an optimizer.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:RO" class="def">RO</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:roStopCond" class="def">roStopCond</a> :: <a href="Numeric-Opto-Core.html#t:Diff" title="Numeric.Opto.Core">Diff</a> a -&gt; a -&gt; m <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></dfn><div class="doc"><p>Stop condition; will stop when <code><a href="../base-4.12.0.0/Data-Bool.html#v:True" title="Data.Bool">True</a></code> (default = never stop)</p></div></li><li><dfn class="src"><a id="v:roReport" class="def">roReport</a> :: a -&gt; m ()</dfn><div class="doc"><p>Reporting function (default = no report)</p></div></li><li><dfn class="src"><a id="v:roLimit" class="def">roLimit</a> :: <a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a></dfn><div class="doc"><p>Number of batches to run (Nothing = run forever) (default = Nothing).</p></div></li><li><dfn class="src"><a id="v:roBatch" class="def">roBatch</a> :: <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a></dfn><div class="doc"><p>Size of batching updates (1 = no batching) (default = 1)</p></div></li><li><dfn class="src"><a id="v:roFreq" class="def">roFreq</a> :: <a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a></dfn><div class="doc"><p>batches per report (Nothing = never report) (default = Just 1).</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><details id="i:RunOpts" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:RunOpts:Contravariant:1"></span> <a href="../base-4.12.0.0/Data-Functor-Contravariant.html#t:Contravariant" title="Data.Functor.Contravariant">Contravariant</a> (<a href="Numeric-Opto-Run.html#t:RunOpts" title="Numeric.Opto.Run">RunOpts</a> m)</span> <a href="src/Numeric.Opto.Run.html#line-121" class="link">Source</a> <a href="#t:RunOpts" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:RunOpts:Contravariant:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Numeric-Opto-Run.html">Numeric.Opto.Run</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:contramap">contramap</a> :: (a -&gt; b) -&gt; <a href="Numeric-Opto-Run.html#t:RunOpts" title="Numeric.Opto.Run">RunOpts</a> m b -&gt; <a href="Numeric-Opto-Run.html#t:RunOpts" title="Numeric.Opto.Run">RunOpts</a> m a <a href="#v:contramap" class="selflink">#</a></p><p class="src"><a href="#v:-62--36-">(&gt;$)</a> :: b -&gt; <a href="Numeric-Opto-Run.html#t:RunOpts" title="Numeric.Opto.Run">RunOpts</a> m b -&gt; <a href="Numeric-Opto-Run.html#t:RunOpts" title="Numeric.Opto.Run">RunOpts</a> m a <a href="#v:-62--36-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:RunOpts:Invariant:2"></span> <a href="../invariant-0.5.3/Data-Functor-Invariant.html#t:Invariant" title="Data.Functor.Invariant">Invariant</a> (<a href="Numeric-Opto-Run.html#t:RunOpts" title="Numeric.Opto.Run">RunOpts</a> m)</span> <a href="src/Numeric.Opto.Run.html#line-127" class="link">Source</a> <a href="#t:RunOpts" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:RunOpts:Invariant:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Numeric-Opto-Run.html">Numeric.Opto.Run</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:invmap">invmap</a> :: (a -&gt; b) -&gt; (b -&gt; a) -&gt; <a href="Numeric-Opto-Run.html#t:RunOpts" title="Numeric.Opto.Run">RunOpts</a> m a -&gt; <a href="Numeric-Opto-Run.html#t:RunOpts" title="Numeric.Opto.Run">RunOpts</a> m b <a href="#v:invmap" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:RunOpts:Default:3"></span> <a href="../base-4.12.0.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m =&gt; <a href="../data-default-0.7.1.1/Data-Default.html#t:Default" title="Data.Default">Default</a> (<a href="Numeric-Opto-Run.html#t:RunOpts" title="Numeric.Opto.Run">RunOpts</a> m a)</span> <a href="src/Numeric.Opto.Run.html#line-104" class="link">Source</a> <a href="#t:RunOpts" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:RunOpts:Default:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Numeric-Opto-Run.html">Numeric.Opto.Run</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:def">def</a> :: <a href="Numeric-Opto-Run.html#t:RunOpts" title="Numeric.Opto.Run">RunOpts</a> m a <a href="#v:def" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:hoistRunOpts" class="def">hoistRunOpts</a> :: (<span class="keyword">forall</span> x. m x -&gt; n x) -&gt; <a href="Numeric-Opto-Run.html#t:RunOpts" title="Numeric.Opto.Run">RunOpts</a> m a -&gt; <a href="Numeric-Opto-Run.html#t:RunOpts" title="Numeric.Opto.Run">RunOpts</a> n a <a href="src/Numeric.Opto.Run.html#hoistRunOpts" class="link">Source</a> <a href="#v:hoistRunOpts" class="selflink">#</a></p><div class="doc"><p>Map over the underlying monad of a <code><a href="Numeric-Opto-Run.html#t:RunOpts" title="Numeric.Opto.Run">RunOpts</a></code>.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ParallelOpts" class="def">ParallelOpts</a> m a <a href="src/Numeric.Opto.Run.html#ParallelOpts" class="link">Source</a> <a href="#t:ParallelOpts" class="selflink">#</a></p><div class="doc"><p>Options for running an optimizer in a concurrent setting.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:PO" class="def">PO</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:poThreads" class="def">poThreads</a> :: <a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a></dfn><div class="doc"><p>Number of threads (Nothing = max capacity) (default = Nothing)</p></div></li><li><dfn class="src"><a id="v:poSplit" class="def">poSplit</a> :: <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a></dfn><div class="doc"><p>How many batches thread will process before regrouping (default = 1000)</p></div></li><li><dfn class="src"><a id="v:poCombine" class="def">poCombine</a> :: <a href="../base-4.12.0.0/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a> a -&gt; m a</dfn><div class="doc"><p>How to recombine a pool of updated results into a single result
 (default = <code><code><a href="../base-4.12.0.0/Control-Applicative.html#v:pure" title="Control.Applicative">pure</a></code> <code><a href="../base-4.12.0.0/Data-Function.html#v:." title="Data.Function">.</a></code> <code><a href="Numeric-Opto-Run.html#v:mean" title="Numeric.Opto.Run">mean</a></code></code>)</p></div></li><li><dfn class="src"><a id="v:poPull" class="def">poPull</a> :: <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></dfn><div class="doc"><p>For conduit runners, whether or not conduit is in &quot;pull-based&quot;
 mode, where optimization doesn't happen until requested
 downstream.  This is ignored if not running via conduit (default
 = True)</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><details id="i:ParallelOpts" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ParallelOpts:Invariant:1"></span> <a href="../base-4.12.0.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> m =&gt; <a href="../invariant-0.5.3/Data-Functor-Invariant.html#t:Invariant" title="Data.Functor.Invariant">Invariant</a> (<a href="Numeric-Opto-Run.html#t:ParallelOpts" title="Numeric.Opto.Run">ParallelOpts</a> m)</span> <a href="src/Numeric.Opto.Run.html#line-130" class="link">Source</a> <a href="#t:ParallelOpts" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ParallelOpts:Invariant:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Numeric-Opto-Run.html">Numeric.Opto.Run</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:invmap">invmap</a> :: (a -&gt; b) -&gt; (b -&gt; a) -&gt; <a href="Numeric-Opto-Run.html#t:ParallelOpts" title="Numeric.Opto.Run">ParallelOpts</a> m a -&gt; <a href="Numeric-Opto-Run.html#t:ParallelOpts" title="Numeric.Opto.Run">ParallelOpts</a> m b <a href="#v:invmap" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ParallelOpts:Default:2"></span> (<a href="../base-4.12.0.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m, <a href="../base-4.12.0.0/Prelude.html#t:Fractional" title="Prelude">Fractional</a> a) =&gt; <a href="../data-default-0.7.1.1/Data-Default.html#t:Default" title="Data.Default">Default</a> (<a href="Numeric-Opto-Run.html#t:ParallelOpts" title="Numeric.Opto.Run">ParallelOpts</a> m a)</span> <a href="src/Numeric.Opto.Run.html#line-113" class="link">Source</a> <a href="#t:ParallelOpts" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ParallelOpts:Default:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Numeric-Opto-Run.html">Numeric.Opto.Run</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:def">def</a> :: <a href="Numeric-Opto-Run.html#t:ParallelOpts" title="Numeric.Opto.Run">ParallelOpts</a> m a <a href="#v:def" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:hoistParallelOpts" class="def">hoistParallelOpts</a> :: (<span class="keyword">forall</span> x. m x -&gt; n x) -&gt; <a href="Numeric-Opto-Run.html#t:ParallelOpts" title="Numeric.Opto.Run">ParallelOpts</a> m a -&gt; <a href="Numeric-Opto-Run.html#t:ParallelOpts" title="Numeric.Opto.Run">ParallelOpts</a> n a <a href="src/Numeric.Opto.Run.html#hoistParallelOpts" class="link">Source</a> <a href="#v:hoistParallelOpts" class="selflink">#</a></p><div class="doc"><p>Map over the underlying monad of a <code><a href="Numeric-Opto-Run.html#t:ParallelOpts" title="Numeric.Opto.Run">ParallelOpts</a></code>.</p></div></div><a href="#g:2" id="g:2"><h1>Single-threaded</h1></a><div class="top"><p class="src"><a id="v:opto" class="def">opto</a> <a href="src/Numeric.Opto.Run.html#opto" class="link">Source</a> <a href="#v:opto" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../base-4.12.0.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Numeric-Opto-Run.html#t:RunOpts" title="Numeric.Opto.Run">RunOpts</a> m a</td><td class="doc"><p>Runner options</p></td></tr><tr><td class="src">-&gt; m (<a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> r)</td><td class="doc"><p>Produce new sample.</p></td></tr><tr><td class="src">-&gt; a</td><td class="doc"><p>Value to optimize</p></td></tr><tr><td class="src">-&gt; <a href="Numeric-Opto-Core.html#t:Opto" title="Numeric.Opto.Core">Opto</a> m r a</td><td class="doc"><p>Optimizer</p></td></tr><tr><td class="src">-&gt; m a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Run an optimizer on some input, given a monadic action to produce each
 new sample.  When the action produces <code><a href="../base-4.12.0.0/GHC-Maybe.html#v:Nothing" title="GHC.Maybe">Nothing</a></code>, the running immediately
 terminates even if the stop condition has not yet been met.</p></div></div><div class="top"><p class="src"><a id="v:opto-39-" class="def">opto'</a> <a href="src/Numeric.Opto.Run.html#opto%27" class="link">Source</a> <a href="#v:opto-39-" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../base-4.12.0.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Numeric-Opto-Run.html#t:RunOpts" title="Numeric.Opto.Run">RunOpts</a> m a</td><td class="doc"><p>Runner options</p></td></tr><tr><td class="src">-&gt; m (<a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> r)</td><td class="doc"><p>Produce new sample.</p></td></tr><tr><td class="src">-&gt; a</td><td class="doc"><p>Value to optimize</p></td></tr><tr><td class="src">-&gt; <a href="Numeric-Opto-Core.html#t:Opto" title="Numeric.Opto.Core">Opto</a> m r a</td><td class="doc"><p>Optimizer</p></td></tr><tr><td class="src">-&gt; m (a, <a href="Numeric-Opto-Core.html#t:Opto" title="Numeric.Opto.Core">Opto</a> m r a)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>A version of <code><a href="Numeric-Opto-Run.html#v:opto" title="Numeric.Opto.Run">opto</a></code> that also returns an updated optimizer state that
 can be resumed.</p></div></div><div class="top"><p class="src"><a id="v:optoNonSampling-39-" class="def">optoNonSampling'</a> <a href="src/Numeric.Opto.Run.html#optoNonSampling%27" class="link">Source</a> <a href="#v:optoNonSampling-39-" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../base-4.12.0.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Numeric-Opto-Run.html#t:RunOpts" title="Numeric.Opto.Run">RunOpts</a> m a</td><td class="doc"><p>Runner options</p></td></tr><tr><td class="src">-&gt; a</td><td class="doc"><p>Value to optimize</p></td></tr><tr><td class="src">-&gt; <a href="Numeric-Opto-Core.html#t:Opto" title="Numeric.Opto.Core">Opto</a> m () a</td><td class="doc"><p>Non-sampling optimizer</p></td></tr><tr><td class="src">-&gt; m (a, <a href="Numeric-Opto-Core.html#t:Opto" title="Numeric.Opto.Core">Opto</a> m () a)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>A version of <code><a href="Numeric-Opto-Run.html#v:optoNonSampling" title="Numeric.Opto.Run">optoNonSampling</a></code> that also returns an updated optimizer state that
 can be resumed.</p></div></div><div class="top"><p class="src"><a id="v:optoNonSampling" class="def">optoNonSampling</a> <a href="src/Numeric.Opto.Run.html#optoNonSampling" class="link">Source</a> <a href="#v:optoNonSampling" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../base-4.12.0.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Numeric-Opto-Run.html#t:RunOpts" title="Numeric.Opto.Run">RunOpts</a> m a</td><td class="doc"><p>Runner options</p></td></tr><tr><td class="src">-&gt; a</td><td class="doc"><p>Value to optimize</p></td></tr><tr><td class="src">-&gt; <a href="Numeric-Opto-Core.html#t:Opto" title="Numeric.Opto.Core">Opto</a> m () a</td><td class="doc"><p>Non-sampling optimizer</p></td></tr><tr><td class="src">-&gt; m a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Run a non-sampling optimizer on some input until the stop condition is
 met.</p></div></div><a href="#g:3" id="g:3"><h2>Sampling methods</h2></a><div class="top"><p class="src"><a id="v:optoConduit" class="def">optoConduit</a> <a href="src/Numeric.Opto.Run.html#optoConduit" class="link">Source</a> <a href="#v:optoConduit" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../base-4.12.0.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Numeric-Opto-Run.html#t:RunOpts" title="Numeric.Opto.Run">RunOpts</a> m a</td><td class="doc"><p>Runner options</p></td></tr><tr><td class="src">-&gt; a</td><td class="doc"><p>Value to optimize</p></td></tr><tr><td class="src">-&gt; <a href="Numeric-Opto-Core.html#t:Opto" title="Numeric.Opto.Core">Opto</a> (<a href="../conduit-1.3.1.1/Data-Conduit.html#t:ConduitT" title="Data.Conduit">ConduitT</a> r a m) r a</td><td class="doc"><p>Optimizer</p></td></tr><tr><td class="src">-&gt; <a href="../conduit-1.3.1.1/Data-Conduit.html#t:ConduitT" title="Data.Conduit">ConduitT</a> r a m ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Given an optimizer and some initial value, produce a <code><a href="../conduit-1.3.1.1/Data-Conduit.html#t:ConduitT" title="Data.Conduit">ConduitT</a></code> that
 takes in samples and outputs each successively optimized versions of the
 value.  This essentially is a convenient wrapper over <code><a href="Numeric-Opto-Run.html#v:opto" title="Numeric.Opto.Run">opto</a></code>.</p><p>To get the <em>final</em> optimized result after a stream has terminated,
 compose this with a sink like <code><a href="C.html#v:last" title="C">last</a></code>.</p><pre><code><a href="Numeric-Opto-Run.html#v:optoConduit" title="Numeric.Opto.Run">optoConduit</a></code> ro x0 o .| <code><a href="C.html#v:last" title="C">last</a></code>
  :: ConduitT r o m (Maybe a)

<code><a href="Numeric-Opto-Run.html#v:optoConduit" title="Numeric.Opto.Run">optoConduit</a></code> ro x0 o .| <code><a href="C.html#v:lastDef" title="C">lastDef</a></code> x0
  :: ConduitT r o m a
</pre><p>Note that this emits <em>every single</em> updated version of the value, but
 still only runs <code><a href="Numeric-Opto-Run.html#v:roReport" title="Numeric.Opto.Run">roReport</a></code> at the frequency of <code><a href="Numeric-Opto-Run.html#v:roFreq" title="Numeric.Opto.Run">roFreq</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:optoConduit-39-" class="def">optoConduit'</a> <a href="src/Numeric.Opto.Run.html#optoConduit%27" class="link">Source</a> <a href="#v:optoConduit-39-" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../base-4.12.0.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Numeric-Opto-Run.html#t:RunOpts" title="Numeric.Opto.Run">RunOpts</a> m a</td><td class="doc"><p>Runner options</p></td></tr><tr><td class="src">-&gt; a</td><td class="doc"><p>Value to optimize</p></td></tr><tr><td class="src">-&gt; <a href="Numeric-Opto-Core.html#t:Opto" title="Numeric.Opto.Core">Opto</a> (<a href="../conduit-1.3.1.1/Data-Conduit.html#t:ConduitT" title="Data.Conduit">ConduitT</a> r a m) r a</td><td class="doc"><p>Optimizer</p></td></tr><tr><td class="src">-&gt; <a href="../conduit-1.3.1.1/Data-Conduit.html#t:ConduitT" title="Data.Conduit">ConduitT</a> r a m (<a href="Numeric-Opto-Core.html#t:Opto" title="Numeric.Opto.Core">Opto</a> (<a href="../conduit-1.3.1.1/Data-Conduit.html#t:ConduitT" title="Data.Conduit">ConduitT</a> r a m) r a)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>A version of <code><a href="Numeric-Opto-Run.html#v:optoConduit" title="Numeric.Opto.Run">optoConduit</a></code> that also returns an updated optimizer state that
 can be resumed.</p></div></div><div class="top"><p class="src"><a id="v:optoFold" class="def">optoFold</a> <a href="src/Numeric.Opto.Run.html#optoFold" class="link">Source</a> <a href="#v:optoFold" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../base-4.12.0.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Numeric-Opto-Run.html#t:RunOpts" title="Numeric.Opto.Run">RunOpts</a> m a</td><td class="doc"><p>Runner options</p></td></tr><tr><td class="src">-&gt; a</td><td class="doc"><p>Value to optimize</p></td></tr><tr><td class="src">-&gt; <a href="Numeric-Opto-Core.html#t:Opto" title="Numeric.Opto.Core">Opto</a> (<a href="../mtl-2.2.2/Control-Monad-State-Lazy.html#t:StateT" title="Control.Monad.State.Lazy">StateT</a> [r] m) r a</td><td class="doc"><p>Optimizer</p></td></tr><tr><td class="src">-&gt; [r]</td><td class="doc"><p>List of samples to optimize over</p></td></tr><tr><td class="src">-&gt; m (a, [r])</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Convenient wrapper over <code><a href="Numeric-Opto-Run.html#v:opto" title="Numeric.Opto.Run">opto</a></code> to allow consumption over a list of
 samples.</p></div></div><div class="top"><p class="src"><a id="v:optoFold-39-" class="def">optoFold'</a> <a href="src/Numeric.Opto.Run.html#optoFold%27" class="link">Source</a> <a href="#v:optoFold-39-" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../base-4.12.0.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Numeric-Opto-Run.html#t:RunOpts" title="Numeric.Opto.Run">RunOpts</a> m a</td><td class="doc"><p>Runner options</p></td></tr><tr><td class="src">-&gt; a</td><td class="doc"><p>Value to optimize</p></td></tr><tr><td class="src">-&gt; <a href="Numeric-Opto-Core.html#t:Opto" title="Numeric.Opto.Core">Opto</a> (<a href="../mtl-2.2.2/Control-Monad-State-Lazy.html#t:StateT" title="Control.Monad.State.Lazy">StateT</a> [r] m) r a</td><td class="doc"><p>Optimizer</p></td></tr><tr><td class="src">-&gt; [r]</td><td class="doc"><p>List of samples to optimize over</p></td></tr><tr><td class="src">-&gt; m (a, [r], <a href="Numeric-Opto-Core.html#t:Opto" title="Numeric.Opto.Core">Opto</a> (<a href="../mtl-2.2.2/Control-Monad-State-Lazy.html#t:StateT" title="Control.Monad.State.Lazy">StateT</a> [r] m) r a)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>A version of <code><a href="Numeric-Opto-Run.html#v:optoFold-39-" title="Numeric.Opto.Run">optoFold'</a></code> that also returns an updated optimizer state that
 can be resumed.</p></div></div><a href="#g:4" id="g:4"><h1>Parallel</h1></a><div class="top"><p class="src"><a id="v:optoPar" class="def">optoPar</a> <a href="src/Numeric.Opto.Run.html#optoPar" class="link">Source</a> <a href="#v:optoPar" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../conduit-1.3.1.1/Conduit.html#t:MonadUnliftIO" title="Conduit">MonadUnliftIO</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Numeric-Opto-Run.html#t:RunOpts" title="Numeric.Opto.Run">RunOpts</a> m a</td><td class="doc"><p>Runner options</p></td></tr><tr><td class="src">-&gt; <a href="Numeric-Opto-Run.html#t:ParallelOpts" title="Numeric.Opto.Run">ParallelOpts</a> m a</td><td class="doc"><p>Parallelization options</p></td></tr><tr><td class="src">-&gt; m (<a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> r)</td><td class="doc"><p>Produce new sample (should be thread-safe)</p></td></tr><tr><td class="src">-&gt; a</td><td class="doc"><p>Value to optimize</p></td></tr><tr><td class="src">-&gt; <a href="Numeric-Opto-Core.html#t:Opto" title="Numeric.Opto.Core">Opto</a> m r a</td><td class="doc"><p>Optimizer</p></td></tr><tr><td class="src">-&gt; m a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Run an optimizer in parallel on multiple threads on some value, given
 a (thread-safe) monadic action to produce each new sample.</p><p>It does this by repeatedly:</p><ol><li>Splitting into multiple threads (based on <code><a href="Numeric-Opto-Run.html#v:poThreads" title="Numeric.Opto.Run">poThreads</a></code>)</li><li>Running <code><a href="Numeric-Opto-Run.html#v:opto" title="Numeric.Opto.Run">opto</a></code> (single-threaded optimiztion) on each thread,
      independently, from the same initial value.</li><li>After <code><a href="Numeric-Opto-Run.html#v:poSplit" title="Numeric.Opto.Run">poSplit</a></code> items have been processed, all threads wait on each
      other to stop.  After each thread is done, each thread's optimized
      value is then aggregated using <code><a href="Numeric-Opto-Run.html#v:poCombine" title="Numeric.Opto.Run">poCombine</a></code> (by default, it takes
      the mean).</li><li>This new optimized combined value is then used to begin the cycle
      again.</li></ol><p>When action produces <code><a href="../base-4.12.0.0/GHC-Maybe.html#v:Nothing" title="GHC.Maybe">Nothing</a></code> for <em>all</em> threads, the running
 immediately terminates on all threads and returns even if the stop
 condition has not yet been met.  If the stop condition is met, the value
 given to the stop condition will be used as the final result, ignoring
 all other thread pools.</p></div></div><div class="top"><p class="src"><a id="v:optoParChunk" class="def">optoParChunk</a> <a href="src/Numeric.Opto.Run.html#optoParChunk" class="link">Source</a> <a href="#v:optoParChunk" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../conduit-1.3.1.1/Conduit.html#t:MonadUnliftIO" title="Conduit">MonadUnliftIO</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Numeric-Opto-Run.html#t:RunOpts" title="Numeric.Opto.Run">RunOpts</a> m a</td><td class="doc"><p>Runner options</p></td></tr><tr><td class="src">-&gt; <a href="Numeric-Opto-Run.html#t:ParallelOpts" title="Numeric.Opto.Run">ParallelOpts</a> m a</td><td class="doc"><p>Parallelization options</p></td></tr><tr><td class="src">-&gt; (<a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; m [r])</td><td class="doc"><p>Batched fetch of samples. Input
   is how many samples the action
   expects to receive, although it is
   okay if a lower amount is given
   due to an exhausted sample pool.</p></td></tr><tr><td class="src">-&gt; a</td><td class="doc"><p>Value to optimize</p></td></tr><tr><td class="src">-&gt; <a href="Numeric-Opto-Core.html#t:Opto" title="Numeric.Opto.Core">Opto</a> (<a href="../mtl-2.2.2/Control-Monad-State-Lazy.html#t:StateT" title="Control.Monad.State.Lazy">StateT</a> [r] m) r a</td><td class="doc"><p>Optimizer</p></td></tr><tr><td class="src">-&gt; m a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>A version of <code><a href="Numeric-Opto-Run.html#v:optoPar" title="Numeric.Opto.Run">optoPar</a></code> that performs a batch fetch for each thread's
 entire sample pool <em>before</em> beginning parallel optimization.  This can
 be useful if the sampling is faster in batch amounts.</p></div></div><div class="top"><p class="src"><a id="v:optoParNonSampling" class="def">optoParNonSampling</a> <a href="src/Numeric.Opto.Run.html#optoParNonSampling" class="link">Source</a> <a href="#v:optoParNonSampling" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../conduit-1.3.1.1/Conduit.html#t:MonadUnliftIO" title="Conduit">MonadUnliftIO</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Numeric-Opto-Run.html#t:RunOpts" title="Numeric.Opto.Run">RunOpts</a> m a</td><td class="doc"><p>Runner options</p></td></tr><tr><td class="src">-&gt; <a href="Numeric-Opto-Run.html#t:ParallelOpts" title="Numeric.Opto.Run">ParallelOpts</a> m a</td><td class="doc"><p>Parallelization options</p></td></tr><tr><td class="src">-&gt; a</td><td class="doc"><p>Value to optimize</p></td></tr><tr><td class="src">-&gt; <a href="Numeric-Opto-Core.html#t:Opto" title="Numeric.Opto.Core">Opto</a> m () a</td><td class="doc"><p>Non-sampling optimizer</p></td></tr><tr><td class="src">-&gt; m a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Run a non-sampling optimizer in parallel on multiple threads on some
 value until the stop condition is met.</p><p>See <code><a href="Numeric-Opto-Run.html#v:optoPar" title="Numeric.Opto.Run">optoPar</a></code> for a detailed description of how parallel optimization is
 implemented.</p></div></div><a href="#g:5" id="g:5"><h2>Sampling Methods</h2></a><div class="top"><p class="src"><a id="v:optoConduitPar" class="def">optoConduitPar</a> :: <span class="keyword">forall</span> m r a. <a href="../conduit-1.3.1.1/Conduit.html#t:MonadUnliftIO" title="Conduit">MonadUnliftIO</a> m =&gt; <a href="Numeric-Opto-Run.html#t:RunOpts" title="Numeric.Opto.Run">RunOpts</a> m a -&gt; <a href="Numeric-Opto-Run.html#t:ParallelOpts" title="Numeric.Opto.Run">ParallelOpts</a> m a -&gt; a -&gt; <a href="Numeric-Opto-Core.html#t:Opto" title="Numeric.Opto.Core">Opto</a> m r a -&gt; <a href="../conduit-1.3.1.1/Data-Conduit.html#t:ConduitT" title="Data.Conduit">ConduitT</a> () r m () -&gt; <a href="../conduit-1.3.1.1/Data-Conduit.html#t:ConduitT" title="Data.Conduit">ConduitT</a> () a m () <a href="src/Numeric.Opto.Run.html#optoConduitPar" class="link">Source</a> <a href="#v:optoConduitPar" class="selflink">#</a></p><div class="doc"><p>Given an optimizer, some initial value, and a conduit <em>source</em>,
 returns a conduit sorce that outputs succesively optimized versions of
 the value after each thread recombination, where each version is
 optimized using parallel multi-threaded optimization.</p><p>See <code><a href="Numeric-Opto-Run.html#v:optoPar" title="Numeric.Opto.Run">optoPar</a></code> for a detailed description on how parallel
 optimization is implemented.</p><p>Note that, unlike <code><a href="Numeric-Opto-Run.html#v:optoConduit" title="Numeric.Opto.Run">optoConduit</a></code>, which is a conduit, this is a conduit
 (source) <em>transformer</em>.  It takes a source outputting <em>samples</em> and
 returns a <em>new</em> source of <em>optimized values</em>.</p><p>A value is emitted after every thread recombination/call of <code><a href="Numeric-Opto-Run.html#v:poCombine" title="Numeric.Opto.Run">poCombine</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:optoConduitParChunk" class="def">optoConduitParChunk</a> :: <span class="keyword">forall</span> m r a. <a href="../conduit-1.3.1.1/Conduit.html#t:MonadUnliftIO" title="Conduit">MonadUnliftIO</a> m =&gt; <a href="Numeric-Opto-Run.html#t:RunOpts" title="Numeric.Opto.Run">RunOpts</a> m a -&gt; <a href="Numeric-Opto-Run.html#t:ParallelOpts" title="Numeric.Opto.Run">ParallelOpts</a> m a -&gt; a -&gt; <a href="Numeric-Opto-Core.html#t:Opto" title="Numeric.Opto.Core">Opto</a> (<a href="../mtl-2.2.2/Control-Monad-State-Lazy.html#t:StateT" title="Control.Monad.State.Lazy">StateT</a> [r] m) r a -&gt; <a href="../conduit-1.3.1.1/Data-Conduit.html#t:ConduitT" title="Data.Conduit">ConduitT</a> () r m () -&gt; <a href="../conduit-1.3.1.1/Data-Conduit.html#t:ConduitT" title="Data.Conduit">ConduitT</a> () a m () <a href="src/Numeric.Opto.Run.html#optoConduitParChunk" class="link">Source</a> <a href="#v:optoConduitParChunk" class="selflink">#</a></p><div class="doc"><p>A version of <code><a href="Numeric-Opto-Run.html#v:optoConduitPar" title="Numeric.Opto.Run">optoConduitPar</a></code> that performs a batch fetch from the
 input source for each thread's entire sample pool <em>before</em> beginning
 parallel optimization.  This can be useful if the source can produce
 values faster in batch amounts.</p></div></div><a href="#g:6" id="g:6"><h1>Util</h1></a><div class="top"><p class="src"><a id="v:mean" class="def">mean</a> :: (<a href="../semigroupoids-5.3.3/Data-Semigroup-Foldable-Class.html#t:Foldable1" title="Data.Semigroup.Foldable.Class">Foldable1</a> t, <a href="../base-4.12.0.0/Prelude.html#t:Fractional" title="Prelude">Fractional</a> a) =&gt; t a -&gt; a <a href="src/Numeric.Opto.Run.html#mean" class="link">Source</a> <a href="#v:mean" class="selflink">#</a></p><div class="doc"><p>The mean of the values in a non-empty container.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>