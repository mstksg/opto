<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Numeric.Opto.Run.Simple</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Numeric.Opto.Run.Simple.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">opto-0.1.0.0: General-purpose performant numeric optimization library</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Numeric.Opto.Run.Simple</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Simple conduit runners</a></li><li><a href="#g:2">Simple callbacks for runners</a></li><li><a href="#g:3">Integrated runners</a></li></ul></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:sampleCollect">sampleCollect</a> :: (<a href="../conduit-1.3.1.1/Conduit.html#t:PrimMonad" title="Conduit">PrimMonad</a> m, <a href="../base-4.12.0.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="../mono-traversable-1.0.11.0/Data-MonoTraversable.html#t:MonoFoldable" title="Data.MonoTraversable">MonoFoldable</a> t) =&gt; <a href="../stm-2.5.0.0/Control-Concurrent-STM-TBQueue.html#t:TBQueue" title="Control.Concurrent.STM.TBQueue">TBQueue</a> (<a href="../mono-traversable-1.0.11.0/Data-MonoTraversable.html#t:Element" title="Data.MonoTraversable">Element</a> t) -&gt; <a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; (<a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; m ()) -&gt; t -&gt; <a href="../mwc-random-0.14.0.0/System-Random-MWC.html#t:Gen" title="System.Random.MWC">Gen</a> (<a href="../conduit-1.3.1.1/Conduit.html#t:PrimState" title="Conduit">PrimState</a> m) -&gt; <a href="../conduit-1.3.1.1/Data-Conduit.html#t:ConduitT" title="Data.Conduit">ConduitT</a> i (<a href="../mono-traversable-1.0.11.0/Data-MonoTraversable.html#t:Element" title="Data.MonoTraversable">Element</a> t) m ()</li><li class="src short"><a href="#v:trainReport">trainReport</a> :: (<a href="../base-4.12.0.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="../deepseq-1.4.4.0/Control-DeepSeq.html#t:NFData" title="Control.DeepSeq">NFData</a> a) =&gt; <a href="../stm-2.5.0.0/Control-Concurrent-STM-TBQueue.html#t:TBQueue" title="Control.Concurrent.STM.TBQueue">TBQueue</a> i -&gt; (<a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; m ()) -&gt; <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; (<a href="../time-1.8.0.2/Data-Time-Clock.html#t:NominalDiffTime" title="Data.Time.Clock">NominalDiffTime</a> -&gt; [i] -&gt; a -&gt; m ()) -&gt; <a href="../conduit-1.3.1.1/Data-Conduit.html#t:ConduitT" title="Data.Conduit">ConduitT</a> a a m ()</li><li class="src short"><a href="#v:dispEpoch">dispEpoch</a> :: <a href="../base-4.12.0.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; m ()</li><li class="src short"><a href="#v:dispBatch">dispBatch</a> :: <a href="../base-4.12.0.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; m ()</li><li class="src short"><a href="#v:simpleReport">simpleReport</a> :: <a href="../base-4.12.0.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> [i] -&gt; ([i] -&gt; a -&gt; <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a>) -&gt; <a href="../time-1.8.0.2/Data-Time-Clock.html#t:NominalDiffTime" title="Data.Time.Clock">NominalDiffTime</a> -&gt; [i] -&gt; a -&gt; m ()</li><li class="src short"><a href="#v:simpleRunner">simpleRunner</a> :: <span class="keyword">forall</span> m t a b n. (<a href="../base-4.12.0.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="../conduit-1.3.1.1/Conduit.html#t:PrimMonad" title="Conduit">PrimMonad</a> m, <a href="../deepseq-1.4.4.0/Control-DeepSeq.html#t:NFData" title="Control.DeepSeq">NFData</a> a, <a href="../mono-traversable-1.0.11.0/Data-MonoTraversable.html#t:MonoFoldable" title="Data.MonoTraversable">MonoFoldable</a> t) =&gt; <a href="Numeric-Opto-Run-Simple.html#t:SimpleOpts" title="Numeric.Opto.Run.Simple">SimpleOpts</a> m (<a href="../mono-traversable-1.0.11.0/Data-MonoTraversable.html#t:Element" title="Data.MonoTraversable">Element</a> t) a b -&gt; t -&gt; <a href="Numeric-Opto-Run-Simple.html#t:SOOptimizer" title="Numeric.Opto.Run.Simple">SOOptimizer</a> m n (<a href="../mono-traversable-1.0.11.0/Data-MonoTraversable.html#t:Element" title="Data.MonoTraversable">Element</a> t) a -&gt; <a href="Numeric-Opto-Run.html#t:RunOpts" title="Numeric.Opto.Run">RunOpts</a> m a -&gt; a -&gt; <a href="Numeric-Opto-Core.html#t:Opto" title="Numeric.Opto.Core">Opto</a> n (<a href="../mono-traversable-1.0.11.0/Data-MonoTraversable.html#t:Element" title="Data.MonoTraversable">Element</a> t) a -&gt; <a href="../mwc-random-0.14.0.0/System-Random-MWC.html#t:Gen" title="System.Random.MWC">Gen</a> (<a href="../conduit-1.3.1.1/Conduit.html#t:PrimState" title="Conduit">PrimState</a> m) -&gt; m b</li><li class="src short"><span class="keyword">data</span> <a href="#t:SimpleOpts">SimpleOpts</a> m i a b = <a href="#v:SO">SO</a> {<ul class="subs"><li><a href="#v:soEpochs">soEpochs</a> :: <a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li><a href="#v:soDispEpoch">soDispEpoch</a> :: <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; m ()</li><li><a href="#v:soDispBatch">soDispBatch</a> :: <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; m ()</li><li><a href="#v:soTestSet">soTestSet</a> :: <a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> [i]</li><li><a href="#v:soSkipSamps">soSkipSamps</a> :: <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li><a href="#v:soEvaluate">soEvaluate</a> :: [i] -&gt; a -&gt; <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a></li><li><a href="#v:soSink">soSink</a> :: <a href="../conduit-1.3.1.1/Data-Conduit.html#t:ConduitT" title="Data.Conduit">ConduitT</a> a <a href="../base-4.12.0.0/Data-Void.html#t:Void" title="Data.Void">Void</a> m b</li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:SOOptimizer">SOOptimizer</a> :: (<a href="../base-4.12.0.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.12.0.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) -&gt; (<a href="../base-4.12.0.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.12.0.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) -&gt; <a href="../base-4.12.0.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.12.0.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.12.0.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <span class="keyword">where</span><ul class="subs"><li><a href="#v:SOSingle">SOSingle</a> :: <a href="Numeric-Opto-Run-Simple.html#t:SOOptimizer" title="Numeric.Opto.Run.Simple">SOOptimizer</a> m (<a href="../conduit-1.3.1.1/Data-Conduit.html#t:ConduitT" title="Data.Conduit">ConduitT</a> i a m) i a</li><li><a href="#v:SOParallel">SOParallel</a> :: <a href="../conduit-1.3.1.1/Conduit.html#t:MonadUnliftIO" title="Conduit">MonadUnliftIO</a> m =&gt; <a href="Numeric-Opto-Run.html#t:ParallelOpts" title="Numeric.Opto.Run">ParallelOpts</a> m a -&gt; <a href="Numeric-Opto-Run-Simple.html#t:SOOptimizer" title="Numeric.Opto.Run.Simple">SOOptimizer</a> m m i a</li><li><a href="#v:SOParChunked">SOParChunked</a> :: <a href="../conduit-1.3.1.1/Conduit.html#t:MonadUnliftIO" title="Conduit">MonadUnliftIO</a> m =&gt; <a href="Numeric-Opto-Run.html#t:ParallelOpts" title="Numeric.Opto.Run">ParallelOpts</a> m a -&gt; <a href="Numeric-Opto-Run-Simple.html#t:SOOptimizer" title="Numeric.Opto.Run.Simple">SOOptimizer</a> m (<a href="../mtl-2.2.2/Control-Monad-State-Lazy.html#t:StateT" title="Control.Monad.State.Lazy">StateT</a> [i] m) i a</li></ul></li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Simple conduit runners</h1></a><div class="top"><p class="src"><a id="v:sampleCollect" class="def">sampleCollect</a> <a href="src/Numeric.Opto.Run.Simple.html#sampleCollect" class="link">Source</a> <a href="#v:sampleCollect" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="../conduit-1.3.1.1/Conduit.html#t:PrimMonad" title="Conduit">PrimMonad</a> m, <a href="../base-4.12.0.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="../mono-traversable-1.0.11.0/Data-MonoTraversable.html#t:MonoFoldable" title="Data.MonoTraversable">MonoFoldable</a> t)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../stm-2.5.0.0/Control-Concurrent-STM-TBQueue.html#t:TBQueue" title="Control.Concurrent.STM.TBQueue">TBQueue</a> (<a href="../mono-traversable-1.0.11.0/Data-MonoTraversable.html#t:Element" title="Data.MonoTraversable">Element</a> t)</td><td class="doc"><p>Queue to deposit samples</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc"><p>Number of epochs (Nothing for forever)</p></td></tr><tr><td class="src">-&gt; (<a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; m ())</td><td class="doc"><p>Report each new epoch.  See <code><a href="Numeric-Opto-Run-Simple.html#v:dispEpoch" title="Numeric.Opto.Run.Simple">dispEpoch</a></code> for a simple one.</p></td></tr><tr><td class="src">-&gt; t</td><td class="doc"><p>Collection to source</p></td></tr><tr><td class="src">-&gt; <a href="../mwc-random-0.14.0.0/System-Random-MWC.html#t:Gen" title="System.Random.MWC">Gen</a> (<a href="../conduit-1.3.1.1/Conduit.html#t:PrimState" title="Conduit">PrimState</a> m)</td><td class="doc"><p>Random shuffling generator</p></td></tr><tr><td class="src">-&gt; <a href="../conduit-1.3.1.1/Data-Conduit.html#t:ConduitT" title="Data.Conduit">ConduitT</a> i (<a href="../mono-traversable-1.0.11.0/Data-MonoTraversable.html#t:Element" title="Data.MonoTraversable">Element</a> t) m ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>A sample conduit <code><a href="../conduit-1.3.1.1/Data-Conduit.html#t:Source" title="Data.Conduit">Source</a></code> that yields shuffled items in a collection
 repeatedly.  Deposits the yielded items in a <code><a href="../stm-2.5.0.0/Control-Concurrent-STM-TBQueue.html#t:TBQueue" title="Control.Concurrent.STM.TBQueue">TBQueue</a></code>, and takes
 a callback for reporting each new epoch (cycle of items in the
 collection).</p></div></div><div class="top"><p class="src"><a id="v:trainReport" class="def">trainReport</a> <a href="src/Numeric.Opto.Run.Simple.html#trainReport" class="link">Source</a> <a href="#v:trainReport" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="../base-4.12.0.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="../deepseq-1.4.4.0/Control-DeepSeq.html#t:NFData" title="Control.DeepSeq">NFData</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../stm-2.5.0.0/Control-Concurrent-STM-TBQueue.html#t:TBQueue" title="Control.Concurrent.STM.TBQueue">TBQueue</a> i</td><td class="doc"><p>Queue to acquire used training samples</p></td></tr><tr><td class="src">-&gt; (<a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; m ())</td><td class="doc"><p>Report each new batch.  See <code><a href="Numeric-Opto-Run-Simple.html#v:dispBatch" title="Numeric.Opto.Run.Simple">dispBatch</a></code> for a simple one.</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc"><p>Number of samples to go through before running reporting function</p></td></tr><tr><td class="src">-&gt; (<a href="../time-1.8.0.2/Data-Time-Clock.html#t:NominalDiffTime" title="Data.Time.Clock">NominalDiffTime</a> -&gt; [i] -&gt; a -&gt; m ())</td><td class="doc"><p>Reporting function.  See <code><a href="Numeric-Opto-Run-Simple.html#v:simpleReport" title="Numeric.Opto.Run.Simple">simpleReport</a></code> for a simple one.</p></td></tr><tr><td class="src">-&gt; <a href="../conduit-1.3.1.1/Data-Conduit.html#t:ConduitT" title="Data.Conduit">ConduitT</a> a a m ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>A conduit that processes &quot;trained&quot; items and outputs a report every
 report batch, based on samples accumulated in a <code><a href="../stm-2.5.0.0/Control-Concurrent-STM-TBQueue.html#t:TBQueue" title="Control.Concurrent.STM.TBQueue">TBQueue</a></code>.  Meant to be used
 alongside <code><a href="Numeric-Opto-Run-Simple.html#v:sampleCollect" title="Numeric.Opto.Run.Simple">sampleCollect</a></code>.  It passes through all of its input.</p><pre>    <code><a href="Numeric-Opto-Run-Simple.html#v:sampleCollect" title="Numeric.Opto.Run.Simple">sampleCollect</a></code> sampleQueue epochs <code><a href="Numeric-Opto-Run-Simple.html#v:dispEpoch" title="Numeric.Opto.Run.Simple">dispEpoch</a></code> samples
 .| <code><a href="Numeric-Opto-Run.html#v:optoConduit" title="Numeric.Opto.Run">optoConduit</a></code> ro model0 optimizer
 .| <code><a href="Numeric-Opto-Run-Simple.html#v:trainReport" title="Numeric.Opto.Run.Simple">trainReport</a></code> sampleQueue <code><a href="Numeric-Opto-Run-Simple.html#v:dispBatch" title="Numeric.Opto.Run.Simple">dispBatch</a></code> 2500 (<code><a href="Numeric-Opto-Run-Simple.html#v:simpleReport" title="Numeric.Opto.Run.Simple">simpleReport</a></code> (<code><a href="../base-4.12.0.0/GHC-Maybe.html#v:Just" title="GHC.Maybe">Just</a></code> valSet) runTest)
 .| sink -- (other stuff you would want to do with trained models)
</pre></div></div><a href="#g:2" id="g:2"><h1>Simple callbacks for runners</h1></a><div class="top"><p class="src"><a id="v:dispEpoch" class="def">dispEpoch</a> :: <a href="../base-4.12.0.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; m () <a href="src/Numeric.Opto.Run.Simple.html#dispEpoch" class="link">Source</a> <a href="#v:dispEpoch" class="selflink">#</a></p><div class="doc"><p>Simple reporter to give to <code><a href="Numeric-Opto-Run-Simple.html#v:sampleCollect" title="Numeric.Opto.Run.Simple">sampleCollect</a></code>:</p><pre>[Epoch 1]
[Epoch 2]
[Epoch 3]</pre></div></div><div class="top"><p class="src"><a id="v:dispBatch" class="def">dispBatch</a> :: <a href="../base-4.12.0.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; m () <a href="src/Numeric.Opto.Run.Simple.html#dispBatch" class="link">Source</a> <a href="#v:dispBatch" class="selflink">#</a></p><div class="doc"><p>Simple reporter to give to <code><a href="Numeric-Opto-Run-Simple.html#v:trainReport" title="Numeric.Opto.Run.Simple">trainReport</a></code>:</p><pre>(Batch 1)
(Batch 2)
(Batch 3)</pre></div></div><div class="top"><p class="src"><a id="v:simpleReport" class="def">simpleReport</a> <a href="src/Numeric.Opto.Run.Simple.html#simpleReport" class="link">Source</a> <a href="#v:simpleReport" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../base-4.12.0.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> [i]</td><td class="doc"><p>A &quot;validation set&quot; that's consistent across all batches.</p></td></tr><tr><td class="src">-&gt; ([i] -&gt; a -&gt; <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a>)</td><td class="doc"><p>A function to run to evaluate a set.</p></td></tr><tr><td class="src">-&gt; <a href="../time-1.8.0.2/Data-Time-Clock.html#t:NominalDiffTime" title="Data.Time.Clock">NominalDiffTime</a></td><td class="doc"><p>Time it took to train</p></td></tr><tr><td class="src">-&gt; [i]</td><td class="doc"><p>Set of batch points</p></td></tr><tr><td class="src">-&gt; a</td><td class="doc"><p>New predictor</p></td></tr><tr><td class="src">-&gt; m ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Simple reporting callback to provide <code><a href="Numeric-Opto-Run-Simple.html#v:trainReport" title="Numeric.Opto.Run.Simple">trainReport</a></code>.</p></div></div><a href="#g:3" id="g:3"><h1>Integrated runners</h1></a><div class="top"><p class="src"><a id="v:simpleRunner" class="def">simpleRunner</a> <a href="src/Numeric.Opto.Run.Simple.html#simpleRunner" class="link">Source</a> <a href="#v:simpleRunner" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="../base-4.12.0.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="../conduit-1.3.1.1/Conduit.html#t:PrimMonad" title="Conduit">PrimMonad</a> m, <a href="../deepseq-1.4.4.0/Control-DeepSeq.html#t:NFData" title="Control.DeepSeq">NFData</a> a, <a href="../mono-traversable-1.0.11.0/Data-MonoTraversable.html#t:MonoFoldable" title="Data.MonoTraversable">MonoFoldable</a> t)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Numeric-Opto-Run-Simple.html#t:SimpleOpts" title="Numeric.Opto.Run.Simple">SimpleOpts</a> m (<a href="../mono-traversable-1.0.11.0/Data-MonoTraversable.html#t:Element" title="Data.MonoTraversable">Element</a> t) a b</td><td class="doc"><p>Options</p></td></tr><tr><td class="src">-&gt; t</td><td class="doc"><p>Collection of samples</p></td></tr><tr><td class="src">-&gt; <a href="Numeric-Opto-Run-Simple.html#t:SOOptimizer" title="Numeric.Opto.Run.Simple">SOOptimizer</a> m n (<a href="../mono-traversable-1.0.11.0/Data-MonoTraversable.html#t:Element" title="Data.MonoTraversable">Element</a> t) a</td><td class="doc"><p>Choice of optimizer concurrency strategy</p></td></tr><tr><td class="src">-&gt; <a href="Numeric-Opto-Run.html#t:RunOpts" title="Numeric.Opto.Run">RunOpts</a> m a</td><td class="doc"><p>Runner options</p></td></tr><tr><td class="src">-&gt; a</td><td class="doc"><p>Initial value</p></td></tr><tr><td class="src">-&gt; <a href="Numeric-Opto-Core.html#t:Opto" title="Numeric.Opto.Core">Opto</a> n (<a href="../mono-traversable-1.0.11.0/Data-MonoTraversable.html#t:Element" title="Data.MonoTraversable">Element</a> t) a</td><td class="doc"><p>Optimizer</p></td></tr><tr><td class="src">-&gt; <a href="../mwc-random-0.14.0.0/System-Random-MWC.html#t:Gen" title="System.Random.MWC">Gen</a> (<a href="../conduit-1.3.1.1/Conduit.html#t:PrimState" title="Conduit">PrimState</a> m)</td><td class="doc"><p>Random generator</p></td></tr><tr><td class="src">-&gt; m b</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Integrate <code><a href="Numeric-Opto-Run-Simple.html#v:sampleCollect" title="Numeric.Opto.Run.Simple">sampleCollect</a></code> and <code><a href="Numeric-Opto-Run-Simple.html#v:trainReport" title="Numeric.Opto.Run.Simple">trainReport</a></code> together, automatically
 generating the sample queue and supplying all callbacks based on the
 <code><a href="Numeric-Opto-Run-Simple.html#t:SimpleOpts" title="Numeric.Opto.Run.Simple">SimpleOpts</a></code>.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:SimpleOpts" class="def">SimpleOpts</a> m i a b <a href="src/Numeric.Opto.Run.Simple.html#SimpleOpts" class="link">Source</a> <a href="#t:SimpleOpts" class="selflink">#</a></p><div class="doc"><p>Options for <code><a href="Numeric-Opto-Run-Simple.html#v:simpleRunner" title="Numeric.Opto.Run.Simple">simpleRunner</a></code>.  <code><a href="../data-default-0.7.1.1/Data-Default.html#v:def" title="Data.Default">def</a></code> gives sensible defaults.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:SO" class="def">SO</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:soEpochs" class="def">soEpochs</a> :: <a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a></dfn><div class="doc"><p>How many epochs (default: Nothing, forever)</p></div></li><li><dfn class="src"><a id="v:soDispEpoch" class="def">soDispEpoch</a> :: <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; m ()</dfn><div class="doc"><p>Display a new epoch to the screen (default: &quot;[Epoch %d]&quot;)</p></div></li><li><dfn class="src"><a id="v:soDispBatch" class="def">soDispBatch</a> :: <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; m ()</dfn><div class="doc"><p>Display a new report batch to the screen (defualt: &quot;(Batch %d)&quot;)</p></div></li><li><dfn class="src"><a id="v:soTestSet" class="def">soTestSet</a> :: <a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> [i]</dfn><div class="doc"><p>Test set to validate results (default: Nothing)</p></div></li><li><dfn class="src"><a id="v:soSkipSamps" class="def">soSkipSamps</a> :: <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a></dfn><div class="doc"><p>Number of samples to skip per report batch (default: 1000)</p></div></li><li><dfn class="src"><a id="v:soEvaluate" class="def">soEvaluate</a> :: [i] -&gt; a -&gt; <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a></dfn><div class="doc"><p>Evaluate a model against samples and report accuracy. (default: do nothing)</p></div></li><li><dfn class="src"><a id="v:soSink" class="def">soSink</a> :: <a href="../conduit-1.3.1.1/Data-Conduit.html#t:ConduitT" title="Data.Conduit">ConduitT</a> a <a href="../base-4.12.0.0/Data-Void.html#t:Void" title="Data.Void">Void</a> m b</dfn><div class="doc"><p>Collect the optimized values (default: <code><a href="../conduit-1.3.1.1/Data-Conduit-Combinators.html#v:sinkNull" title="Data.Conduit.Combinators">sinkNull</a></code>, ignore them)</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><details id="i:SimpleOpts" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SimpleOpts:Default:1"></span> (<a href="../base-4.12.0.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="../data-default-0.7.1.1/Data-Default.html#t:Default" title="Data.Default">Default</a> b) =&gt; <a href="../data-default-0.7.1.1/Data-Default.html#t:Default" title="Data.Default">Default</a> (<a href="Numeric-Opto-Run-Simple.html#t:SimpleOpts" title="Numeric.Opto.Run.Simple">SimpleOpts</a> m i a b)</span> <a href="src/Numeric.Opto.Run.Simple.html#line-166" class="link">Source</a> <a href="#t:SimpleOpts" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SimpleOpts:Default:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Numeric-Opto-Run-Simple.html">Numeric.Opto.Run.Simple</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:def">def</a> :: <a href="Numeric-Opto-Run-Simple.html#t:SimpleOpts" title="Numeric.Opto.Run.Simple">SimpleOpts</a> m i a b <a href="#v:def" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:SOOptimizer" class="def">SOOptimizer</a> :: (<a href="../base-4.12.0.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.12.0.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) -&gt; (<a href="../base-4.12.0.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.12.0.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) -&gt; <a href="../base-4.12.0.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.12.0.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.12.0.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <span class="keyword">where</span> <a href="src/Numeric.Opto.Run.Simple.html#SOOptimizer" class="link">Source</a> <a href="#t:SOOptimizer" class="selflink">#</a></p><div class="doc"><p>Choose a concurrency strategy for your runner.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:SOSingle" class="def">SOSingle</a> :: <a href="Numeric-Opto-Run-Simple.html#t:SOOptimizer" title="Numeric.Opto.Run.Simple">SOOptimizer</a> m (<a href="../conduit-1.3.1.1/Data-Conduit.html#t:ConduitT" title="Data.Conduit">ConduitT</a> i a m) i a</td><td class="doc"><p>Single-threaded</p></td></tr><tr><td class="src"><a id="v:SOParallel" class="def">SOParallel</a> :: <a href="../conduit-1.3.1.1/Conduit.html#t:MonadUnliftIO" title="Conduit">MonadUnliftIO</a> m =&gt; <a href="Numeric-Opto-Run.html#t:ParallelOpts" title="Numeric.Opto.Run">ParallelOpts</a> m a -&gt; <a href="Numeric-Opto-Run-Simple.html#t:SOOptimizer" title="Numeric.Opto.Run.Simple">SOOptimizer</a> m m i a</td><td class="doc"><p>Parallel</p></td></tr><tr><td class="src"><a id="v:SOParChunked" class="def">SOParChunked</a> :: <a href="../conduit-1.3.1.1/Conduit.html#t:MonadUnliftIO" title="Conduit">MonadUnliftIO</a> m =&gt; <a href="Numeric-Opto-Run.html#t:ParallelOpts" title="Numeric.Opto.Run">ParallelOpts</a> m a -&gt; <a href="Numeric-Opto-Run-Simple.html#t:SOOptimizer" title="Numeric.Opto.Run.Simple">SOOptimizer</a> m (<a href="../mtl-2.2.2/Control-Monad-State-Lazy.html#t:StateT" title="Control.Monad.State.Lazy">StateT</a> [i] m) i a</td><td class="doc"><p>Parallel chunked</p></td></tr></table></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>